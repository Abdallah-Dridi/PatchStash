{% extends 'admin/base.html.twig' %}

{% block title %}Admin Dashboard Â· Patchstash{% endblock %}

{% block admin_content %}
<div class="page-head">
    <div>
        <p class="eyebrow">Administration</p>
        <h1>Dashboard</h1>
        <p class="text-muted">System overview and management center.</p>
    </div>
    <div class="actions">
        <a class="btn primary" href="{{ path('app_logout') }}">Logout</a>
    </div>
</div>

<div class="admin-section" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.2rem; margin-bottom: 2rem;">
    <div class="stat-card">
        <p class="stat-label">Total Users</p>
        <p class="stat-value" style="margin: 0.5rem 0 0;">{{ users|length }}</p>
    </div>
    <div class="stat-card">
        <p class="stat-label">Projects</p>
        <p class="stat-value" style="margin: 0.5rem 0 0;">{{ projects|length }}</p>
    </div>
    <div class="stat-card">
        <p class="stat-label">Modules</p>
        <p class="stat-value" style="margin: 0.5rem 0 0;">{{ modules|length }}</p>
    </div>
    <div class="stat-card">
        <p class="stat-label">Assets</p>
        <p class="stat-value" style="margin: 0.5rem 0 0;">{{ assets|length }}</p>
    </div>
    <div class="stat-card">
        <p class="stat-label">Patch Cycles</p>
        <p class="stat-value" style="margin: 0.5rem 0 0;">{{ patchCycles|length }}</p>
    </div>
    <div class="stat-card">
        <p class="stat-label">Vulnerabilities</p>
        <p class="stat-value" style="margin: 0.5rem 0 0;">{{ vulnerabilities|length }}</p>
    </div>
</div>

<div class="admin-panel">
    <div class="panel-header">
        <div>
            <h2>Quick Actions</h2>
            <p class="text-muted">Common administrative tasks</p>
        </div>
    </div>
    <div class="quick-actions">
        <div class="action-card">
            <strong>Manage Users</strong>
            <p class="text-muted">Add, edit, or remove users</p>
            <a href="{{ path('app_admin_users') }}" class="btn primary" style="margin-top: auto;">Go to Users</a>
        </div>
        <div class="action-card">
            <strong>Projects</strong>
            <p class="text-muted">View and manage all projects</p>
            <a href="{{ path('app_admin_projects') }}" class="btn primary" style="margin-top: auto;">Go to Projects</a>
        </div>
        <div class="action-card">
            <strong>Assets & Modules</strong>
            <p class="text-muted">Manage infrastructure components</p>
            <a href="{{ path('app_admin_assets') }}" class="btn primary" style="margin-top: auto;">Go to Assets</a>
        </div>
        <div class="action-card">
            <strong>Patch Management</strong>
            <p class="text-muted">Track security patches and cycles</p>
            <a href="{{ path('app_admin_patch_cycles') }}" class="btn primary" style="margin-top: auto;">Go to Patches</a>
        </div>
    </div>
</div>
{% endblock %}
