{% extends 'base.html.twig' %}

{% block title %}Reset password · Patchstash{% endblock %}

{% block stylesheets %}
    {{ include('security/_auth_styles.html.twig') }}
    <style>
        .auth-card { width: min(580px, 100%); margin: 0 auto; padding: clamp(2.1rem, 4vw, 2.9rem); }
        .hint { color: var(--muted); font-size: 0.93rem; margin-top: -0.35rem; }
    </style>
{% endblock %}

{% block body_class %}auth-page{% endblock %}
{% block header %}{% endblock %}
{% block main_class %}auth-main{% endblock %}

{% block body %}
    <div class="auth-card">
        <div class="floating">
            <span class="blob a"></span>
            <span class="blob b"></span>
        </div>

        <p class="eyebrow">Reset password</p>
        <h2 class="auth-title">Send a reset link</h2>
        <p class="auth-sub">Enter the email tied to your Patchstash account. We’ll email a short-lived link.</p>

        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="alert">{{ message }}</div>
            {% endfor %}
        {% endfor %}

        <form class="auth-form" method="post" action="{{ path('app_forgot_password') }}">
            <div class="form-group">
                <label for="email">Email</label>
                <input id="email" name="email" type="email" placeholder="you@company.com" required autocomplete="email">
                <p class="hint">We’ll email a link that expires in about 30 minutes.</p>
            </div>

            <button class="btn" type="submit">Email reset link</button>
        </form>

        <div class="auth-meta">
            Remembered your password? <a href="{{ path('app_login') }}">Sign in</a>
        </div>
    </div>
{% endblock %}
